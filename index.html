<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Photo Album Gallery</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#6ee7b7}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:linear-gradient(180deg,#071029 0%, #071a2a 100%);color:#e6eef6}
    .app{display:grid;grid-template-columns:260px 1fr;gap:24px;min-height:100vh;padding:28px}
    .sidebar{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:12px;padding:18px}
    h1{font-size:18px;margin:0 0 12px 0}
    .folder-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
    .folder{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:8px;cursor:pointer;color:var(--muted)}
    .folder:hover{background:rgba(255,255,255,0.02);color:#fff}
    .folder.active{background:linear-gradient(90deg, rgba(110,231,183,0.12), rgba(110,231,183,0.04));color:var(--accent);box-shadow:0 6px 18px rgba(16,24,32,0.6)}
    .folder .count{margin-left:auto;font-size:12px;color:inherit;opacity:.8}

    .main{display:flex;flex-direction:column;gap:18px}
    .toolbar{display:flex;gap:12px;align-items:center}
    .search{flex:1}
    input.search-input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
    .card{background:var(--card);border-radius:10px;overflow:hidden;cursor:pointer;position:relative}
    .card img{width:100%;height:160px;object-fit:cover;display:block}
    .card .meta{padding:8px;font-size:13px;color:var(--muted)}
    .empty{padding:36px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--muted);text-align:center}

    /* modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(2,6,23,0.65),rgba(2,6,23,0.85));z-index:60}
    .modal.open{display:flex}
    .modal-content{max-width:88vw;max-height:88vh;border-radius:12px;overflow:hidden;position:relative;background:#06101a}
    .modal-content img{display:block;max-width:100%;max-height:80vh;object-fit:contain}
    .modal-close{position:absolute;right:8px;top:8px;padding:6px;border-radius:6px;background:rgba(0,0,0,0.3);cursor:pointer}
    .modal-nav{position:absolute;left:12px;top:50%;transform:translateY(-50%);display:flex;gap:8px}
    .btn{background:rgba(255,255,255,0.03);padding:8px;border-radius:8px;cursor:pointer}

    /* responsive */
    @media (max-width:880px){.app{grid-template-columns:1fr;padding:16px}.sidebar{order:2}.main{order:1}}
    footer{padding:18px;text-align:center;color:var(--muted)}
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <h1>My Photo Albums</h1>
      <div style="font-size:13px;color:var(--muted);margin-bottom:12px">Click a folder to open the album</div>
      <ul class="folder-list" id="folders"></ul>
      <div style="height:12px"></div>
      <div style="font-size:12px;color:var(--muted)">Tip: edit the <code>ALBUMS</code> object in the script to add your folders and image URLs.</div>
    </aside>

    <main class="main">
      <div class="toolbar">
        <div style="font-size:18px;font-weight:600" id="title">All Photos</div>
        <div style="flex:1"></div>
        <div class="search"><input id="search" class="search-input" placeholder="Search images by filename or tag (type and press Enter)"/></div>
      </div>

      <div id="gallery" class="gallery"></div>
      <div id="empty" class="empty" style="display:none">No images to show.</div>
    </main>
  </div>

  <!-- modal / lightbox -->
  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content" id="modalContent">
      <div style="display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-bottom:1px solid rgba(255,255,255,0.02)">
        <div id="modalTitle" style="font-weight:600"></div>
        <div style="display:flex;gap:8px;align-items:center">
          <div class="btn" id="prev">◀</div>
          <div class="btn" id="next">▶</div>
          <div class="modal-close btn" id="close">✕</div>
        </div>
      </div>
      <div style="padding:12px;display:flex;align-items:center;justify-content:center;min-width:300px;min-height:300px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent)">
        <img id="modalImg" src="" alt="" />
      </div>
    </div>
  </div>

  <footer>Built with ❤️ — Edit the ALBUMS variable to add your images</footer>

  <script>
    /***********************
     * Add your albums here
     * Each album: name -> array of {src, title, tags}
     ***********************/
    const ALBUMS = {
      "All Photos": [], // auto-populated
      "Vacation 2024": [
        {src: 'https://picsum.photos/id/1015/1200/800', title:'Mountain view', tags: 'mountain summer'},
        {src: 'https://picsum.photos/id/1025/1200/800', title:'Coastline', tags: 'sea beach'},
        {src: 'https://picsum.photos/id/1039/1200/800', title:'Forest path', tags: 'forest trees'}
      ],
      "Family": [
        {src: 'https://picsum.photos/id/1027/1200/800', title:'Family picnic', tags: 'family picnic'},
        {src: 'https://picsum.photos/id/1005/1200/800', title:'Grandpa', tags: 'portrait family'}
      ],
      "Work": [
        {src: 'https://picsum.photos/id/1043/1200/800', title:'Office desk', tags: 'desk work mac'},
        {src: 'https://picsum.photos/id/1067/1200/800', title:'Night coding', tags: 'code night'}
      ]
    };

    // Build combined album
    function buildAllPhotos(){
      const all = [];
      for(const [folder, arr] of Object.entries(ALBUMS)){
        if(folder === 'All Photos') continue;
        arr.forEach(item => all.push(Object.assign({}, item, {folder})));
      }
      ALBUMS['All Photos'] = all;
    }

    buildAllPhotos();

    // DOM Refs
    const foldersEl = document.getElementById('folders');
    const galleryEl = document.getElementById('gallery');
    const titleEl = document.getElementById('title');
    const emptyEl = document.getElementById('empty');
    const searchInput = document.getElementById('search');

    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const closeBtn = document.getElementById('close');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');

    let currentFolder = 'All Photos';
    let currentList = ALBUMS[currentFolder] || [];
    let currentIndex = 0;

    function renderFolders(){
      foldersEl.innerHTML = '';
      for(const [name, arr] of Object.entries(ALBUMS)){
        const li = document.createElement('li');
        li.className = 'folder' + (name === currentFolder ? ' active' : '');
        li.innerHTML = `<div style="font-weight:600">${name}</div><div class="count">${arr.length}</div>`;
        li.onclick = ()=>{setFolder(name)};
        foldersEl.appendChild(li);
      }
    }

    function setFolder(name){
      currentFolder = name;
      currentList = ALBUMS[name] || [];
      titleEl.textContent = name;
      renderGallery(currentList);
      renderFolders();
    }

    function renderGallery(list){
      galleryEl.innerHTML = '';
      if(!list || list.length === 0){
        emptyEl.style.display = 'block';
        return;
      }
      emptyEl.style.display = 'none';

      list.forEach((item, idx) =>{
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img loading="lazy" src="${item.src}" alt="${item.title||''}" />
          <div class="meta">${item.title || ''} <span style="float:right;color:var(--muted);font-size:12px">${item.folder || ''}</span></div>
        `;
        card.onclick = ()=>{openModal(list, idx)};
        galleryEl.appendChild(card);
      })
    }

    function openModal(list, idx){
      currentIndex = idx;
      modal.classList.add('open');
      showImage(list[currentIndex]);
      modal.dataset.list = JSON.stringify(list);
    }

    function showImage(item){
      modalImg.src = item.src;
      modalTitle.textContent = (item.title || '') + (item.folder ? ` — ${item.folder}` : '');
    }

    function closeModal(){ modal.classList.remove('open'); modalImg.src = ''; }

    function step(dir){
      const list = JSON.parse(modal.dataset.list || '[]');
      if(!list.length) return;
      currentIndex = (currentIndex + dir + list.length) % list.length;
      showImage(list[currentIndex]);
    }

    function doSearch(q){
      q = (q||'').trim().toLowerCase();
      if(!q){ setFolder(currentFolder); return; }
      const list = (ALBUMS[currentFolder] || []).filter(it => {
        const title = (it.title||'').toLowerCase();
        const tags = (it.tags||'').toLowerCase();
        const fname = (it.src||'').split('/').pop().toLowerCase();
        return title.includes(q) || tags.includes(q) || fname.includes(q);
      });
      renderGallery(list);
    }

    closeBtn.onclick = closeModal;
    prevBtn.onclick = ()=>step(-1);
    nextBtn.onclick = ()=>step(1);
    modal.onclick = (e)=>{ if(e.target===modal) closeModal(); }
    document.addEventListener('keydown', e=>{
      if(!modal.classList.contains('open')) return;
      if(e.key === 'ArrowLeft') step(-1);
      if(e.key === 'ArrowRight') step(1);
      if(e.key === 'Escape') closeModal();
    });

    searchInput.addEventListener('keydown', e=>{ if(e.key==='Enter'){ doSearch(searchInput.value); } });

    buildAllPhotos();
    renderFolders();
    setFolder('All Photos');
  </script>
</body>
</html>
